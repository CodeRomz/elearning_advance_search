<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <!--
    Inject a list of matching slides below the standard
    /slides/all “All Courses” card grid + pager.
  -->
  <template id="matched_slides_extension"
            inherit_id="website_slides.courses_all"
            name="Show matched slide content below All Courses">

    <!--
      After the pager (which is rendered as <t t-call="website.pager"/>),
      we append a new section for any `matched_slides`
    -->
    <xpath expr="//t[@t-call='website.pager']" position="after">
      <t t-if="matched_slides">
        <section class="container my-5">
          <h4 class="mb-4">Matched Slide Content</h4>
          <div class="row">
            <t t-foreach="matched_slides" t-as="slide">
              <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                  <div class="card-body d-flex flex-column">
                    <h5 class="card-title" t-esc="slide.name"/>
                    <p class="card-text flex-grow-1" t-esc="slide.description or slide.html_content[:200] + '...'"/>
                    <a t-att-href="'/slides/%s' % slide.id"
                       class="btn btn-sm btn-outline-primary mt-3 align-self-start">
                      View Slide
                    </a>
                  </div>
                </div>
              </div>
            </t>
          </div>
        </section>
      </t>
    </xpath>

  </template>
</odoo>
