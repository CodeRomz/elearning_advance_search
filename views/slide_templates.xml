<!-- slides_course_search_extension/views/slide_templates.xml -->
<odoo>
  <template
    id="matched_slides_extension"
    inherit_id="website_slides.courses_all"
    name="Show matched slide content below All Courses"
  >
    <!-- Insert our matched_slides immediately _after_ the pager call -->
    <xpath expr="//t[@t-call='website.pager']" position="after">
      <t t-if="matched_slides">
        <section class="container my-5">
          <h4>Matched Content</h4>
          <div class="row">
            <t t-foreach="matched_slides" t-as="slide">
              <div class="col-md-4 mb-3">
                <div class="card h-100 shadow-sm">
                  <div class="card-body">
                    <h5 class="card-title" t-esc="slide.name"/>
                    <p class="card-text" t-esc="slide.description"/>
                    <a
                      t-att-href="'/slides/%s' % slide.channel_id.id"
                      class="btn btn-sm btn-outline-primary mt-2"
                    >
                      View in Course
                    </a>
                  </div>
                </div>
              </div>
            </t>
          </div>
        </section>
      </t>
    </xpath>
  </template>
</odoo>
