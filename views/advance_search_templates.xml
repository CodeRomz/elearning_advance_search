<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <!-- Insert a compact "Matching content" block ONLY on /slides/all -->
  <template id="courses_all_include_matching_slides"
            inherit_id="website_slides.courses_all"
            name="Courses All - Include Matching Slides">
    <!-- Robust anchor: append inside #wrap -->
    <xpath expr="//div[@id='wrap']" position="inside">
      <t t-if="advanced_slides">
        <section id="o_wslides_matching_content" class="container my-4 pb-4">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <h2 class="h4 mb-0">Matching content</h2>
          </div>

          <div class="row g-3">
            <t t-foreach="advanced_slides" t-as="s">
              <div class="col-12 col-md-6 col-lg-4">
                <a t-att-href="s.website_url or ('/slides/slide/%s' % s.id)"
                   class="card h-100 text-decoration-none">
                  <div class="card-body">
                    <div class="small text-muted" t-if="s.channel_id" t-esc="s.channel_id.name"/>
                    <h3 class="h6 mt-1 mb-2" t-esc="s.name"/>
                    <t t-set="desc" t-value="(s.description or '').strip()"/>
                    <p style="color: #6e6e6e;" class="mb-0 text-muted"
                       t-if="desc" t-esc="desc[:100] + ('â€¦' if len(desc) &gt; 100 else '')"/>
                  </div>
                </a>
              </div>
            </t>
          </div>
        </section>
      </t>
    </xpath>
  </template>
</odoo>
