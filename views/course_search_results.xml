<template id="website_slides_course_search_results_inherit" inherit_id="website_slides.course_search_results" customize_show="True">
    <!-- Update the search form action to use the new /slides/search route -->
    <xpath expr="//t[@t-set='action']" position="replace">
        <t t-set="action" t-value="'/slides/search'"/>
    </xpath>
    <!-- Preserve active filter values (tags, category, role) as hidden fields in the search form -->
    <xpath expr="//form[@id='courses_search_form']" position="inside">
        <t t-if="request.params.get('tag_ids')">
          <t t-set="active_tags" t-value="request.params.get('tag_ids') if isinstance(request.params.get('tag_ids'), (list, tuple)) else str(request.params.get('tag_ids')).split(',')"/>
          <t t-foreach="active_tags" t-as="tag"><input type="hidden" name="tag_ids" t-att-value="tag"/></t>
        </t>
        <t t-if="request.params.get('slide_category')">
          <input type="hidden" name="slide_category" t-att-value="request.params.get('slide_category')"/>
        </t>
        <t t-if="request.params.get('role')">
          <input type="hidden" name="role" t-att-value="request.params.get('role')"/>
        </t>
    </xpath>
</template>
